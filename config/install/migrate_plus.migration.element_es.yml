# Migration of "element" node translations from CSV.

# Migration metadata
id: element_es
label: Element data in Spanish
migration_tags:
  - node
  - element
  - csv
# Migration source
source:
  # We will be importing from a CSV file, so we will require
  # the migrate_source_csv module which introduces the CSV
  # source plugin with the identifier "csv".
  plugin: csv
  # Specify the path to the CSV data source.
  path: 'public://import/element/element.data.es.csv'
  # Number of rows at the beginning which are not actual data.
  header_row_count: 1
  # Unique ID
  keys:
    - 'Simbolo'
  fields:
    'Simbolo': 'Symbol'
    Nombre: 'Name'
    'Numero atomico': 'Atomic number'
    'Masa atomica': 'Atomic mass'
  constants:
    lang_es: es
    uid_root: 1
    bool_0: 0
    bool_1: 1
# Migration destination
destination:
  plugin: 'entity:node'
  default_bundle: element
  translations: true
process:
  nid:
    -
      plugin: migration
      source: Simbolo
      migration: element_en
    -
      plugin: skip_on_empty
      method: row
  title: Nombre
  langcode: constants/lang_es
  uid: constants/uid_root
  sticky: constants/bool_0
  status: constants/bool_1
  promote: constants/bool_0
migration_dependencies:
  required:
    - element_en
dependencies:
  enforced:
    module:
      - c11n_migrate_i18n
