# Migration of "article" node data from Drupal 7.
#
# This file demonstrates migration of content translated with
# the 'entity_translation' module.

# Migration metadata
id: creature_base
label: Creature base data from Drupal 7
migration_tags:
  - node
  - article
  - d7
# Migration source
source:
  # Ignoring translations! The tricky part!
  #
  # The Drupal 7 version of the migration source Node does not
  # support the "translations" parameter at this moment. Hence, even
  # if you specify "translations: flase" (or omit that line), all
  # nodes, including translations, are imported.
  #
  # To prevent this, I chose to write the method
  # D7NodeEntityTranslation::query().
  plugin: d7_node_entity_translation
  node_type: article
  # Specify the database from which data is to be read.
  key: drupal_7b
  target: default
  # Static values for the migration.
  #
  # We can assign hard-coded values to certain properties using constants.
  constants:
    uid_root: 1
    node_article: 'article'
  ids:
    - nid
# Migration destination
destination:
  plugin: 'entity:node'
process:
  type: constants/node_article
  title: title
  langcode:
    plugin: default_value
    source: language
    default_value: und
  uid: 'constants/uid_root'
  sticky: sticky
  status: status
  promote: promote
  body: body
dependencies:
  enforced:
    module:
      - c11n_migrate_i18n
